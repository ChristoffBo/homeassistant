{
  "id": "disk_usage",
  "name": "Disk Usage",
  "description": "Checks root filesystem usage and clears logs or prunes Docker if space is low.",
  "check_cmd": "USAGE=$(df -P / | awk 'NR==2 {print $5+0}'); if [ $USAGE -lt 85 ]; then echo ok; else echo fix; fi",
  "expected_output": "ok",
  "fix_cmd": "echo '⚠️  High disk usage detected - running cleanup'; journalctl --vacuum-time=3d 2>/dev/null || true; if command -v docker >/dev/null 2>&1; then docker system prune -af >/dev/null 2>&1; fi; rm -rf /var/log/*.gz /tmp/* /var/tmp/* 2>/dev/null || true",
  "verify_cmd": "USAGE=$(df -P / | awk 'NR==2 {print $5+0}'); echo \"Usage after cleanup: ${USAGE}%\"; if [ $USAGE -lt 85 ]; then echo ok; else echo fail; fi",
  "retry_count": 1,
  "retry_delay": 120,
  "ttl_seconds": 3600
}