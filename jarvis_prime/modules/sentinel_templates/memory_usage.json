{
  "id": "memory_usage",
  "name": "Memory Usage",
  "description": "Monitors memory usage and clears pagecache if critically high.",
  "check_cmd": "free | awk '/Mem/ {printf \"%.0f\", ($3-$6)/$2*100}'",
  "expected_output": "num<90",
  "fix_cmd": "USAGE=$(free | awk '/Mem/ {printf \"%.0f\", ($3-$6)/$2*100}'); echo \"Memory usage: ${USAGE}%\"; if [ $USAGE -ge 95 ]; then echo 'CRITICAL: Clearing all caches'; sync; echo 3 > /proc/sys/vm/drop_caches 2>/dev/null || true; elif [ $USAGE -ge 90 ]; then echo 'WARNING: Clearing pagecache only'; sync; echo 1 > /proc/sys/vm/drop_caches 2>/dev/null || true; fi; echo 'Top memory consumers:'; ps -eo pid,comm,%mem --sort=-%mem | head -10",
  "verify_cmd": "free -h | grep Mem; echo 'Available:'; free -h | awk '/Mem/ {print $7}'",
  "retry_count": 1,
  "retry_delay": 120,
  "ttl_seconds": 600
}
