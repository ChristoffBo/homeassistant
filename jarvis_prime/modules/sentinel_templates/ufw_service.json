{
  "id": "ufw_service",
  "name": "UFW Firewall",
  "description": "Ensures the Uncomplicated Firewall (ufw) is installed and active, enabling it if disabled.",
  "check_cmd": "if command -v ufw >/dev/null 2>&1; then if ufw status 2>/dev/null | grep -q 'Status: active'; then echo ok; else echo fix; fi; else echo ok; fi",
  "expected_output": "ok",
  "fix_cmd": "if command -v ufw >/dev/null 2>&1; then echo '⚠️ Enabling UFW firewall...'; yes | ufw enable >/dev/null 2>&1 || true; fi",
  "verify_cmd": "sleep 2; if command -v ufw >/dev/null 2>&1; then if ufw status 2>/dev/null | grep -q 'Status: active'; then echo ok; else echo fail; fi; else echo ok; fi",
  "retry_count": 1,
  "retry_delay": 60,
  "ttl_seconds": 3600
}