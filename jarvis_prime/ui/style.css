/* ============== Base ============== */
:root{
  --bg:#0f1115;
  --card:#161a22;
  --ink:#e6e8ef;
  --muted:#9aa3b2;
  --line:#242a36;
  --accent:#4da3ff;
  --danger:#ff5d5d;
  --ok:#33d17a;
  --pad:14px;
  --radius:12px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font:14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
  color:var(--ink);
  background:linear-gradient(180deg,#0d1014,#0f1115 12% 100%);
}

/* ============== Topbar & Tabs ============== */
.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; flex-wrap:wrap;
  align-items:center; gap:12px;
  padding:10px var(--pad);
  background:#0e1116cc; backdrop-filter: blur(6px);
  border-bottom:1px solid var(--line);
}
.brand{display:flex; align-items:center; gap:10px;}
.brand .logo{font-size:20px}
.brand h1{font-size:16px; margin:0; font-weight:600; letter-spacing:.2px}

.tabbar{display:flex; gap:8px; flex-wrap:wrap}
.tablink{
  border:1px solid var(--line);
  background:#12151c;
  color:var(--ink);
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
}
.tablink.active{border-color:var(--accent); color:#fff; box-shadow:0 0 0 2px #4da3ff22 inset}

/* ============== Layout ============== */
.container{max-width:1200px; margin:20px auto; padding:0 var(--pad)}
.grid{display:grid; gap:16px}
.grid-2{grid-template-columns: repeat(2, minmax(0,1fr));}
.grid-3{grid-template-columns: repeat(3, minmax(0,1fr));}
@media (max-width: 1000px){ .grid-2{grid-template-columns:1fr} }
@media (max-width: 900px){ .grid-3{grid-template-columns:1fr 1fr} }
@media (max-width: 640px){ .grid-3{grid-template-columns:1fr} }

.tab{display:none}
.tab.active{display:block}

.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:var(--pad);
  box-shadow: 0 10px 30px #00000033 inset;
}
.card + .card{margin-top:16px}

.card-header{
  display:flex; align-items:center; justify-content:space-between;
  gap:8px; margin-bottom:10px;
}
.card h3{margin:0; font-size:16px}
.controls{display:flex; align-items:center; gap:8px}
.controls.wrap{flex-wrap:wrap}
.controls.end{justify-content:flex-end; margin-top:8px}

.rule{height:1px; background:var(--line); margin:10px 0}

/* ============== Forms ============== */
.form label, .form-grid label{display:block; color:var(--muted); margin:8px 0 4px}
.form-grid{display:grid; gap:12px; grid-template-columns: repeat(3, minmax(220px,1fr));}
@media (max-width: 980px){ .form-grid{grid-template-columns: repeat(2, minmax(220px,1fr));} }
@media (max-width: 640px){ .form-grid{grid-template-columns: 1fr;} }

input, select, textarea{
  width:100%;
  background:#0f131b;
  color:var(--ink);
  border:1px solid var(--line);
  border-radius:10px;
  padding:10px 12px;
  outline:none;
}
input:focus, select:focus, textarea:focus{border-color:#3a7bff77; box-shadow:0 0 0 2px #3a7bff22}

select[multiple]{min-height:140px}

.codearea{min-height:380px; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;}

/* checkboxes that don't collide */
label.check{display:flex; align-items:center; gap:8px; color:var(--ink); padding:6px 8px; border:1px solid var(--line); border-radius:10px; background:#111520}
label.inline{display:inline-flex; align-items:center; gap:8px; color:var(--muted)}

/* ============== Buttons ============== */
.btn{
  border:1px solid var(--line);
  background:#151a24;
  color:var(--ink);
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
}
.btn:hover{background:#1a2030}
.btn.primary{border-color:#3a7bff; background:#2a4cff}
.btn.primary:hover{background:#2444ee}
.btn.danger{border-color:#ff6b6b50; background:#2b0f14; color:#ff9da1}
.btn.danger:hover{background:#3a1219}

/* ============== Tables ============== */
.table{width:100%; border-collapse: collapse; font-size:13px}
.table th, .table td{border-bottom:1px solid var(--line); padding:8px 10px; vertical-align: top}
.table thead th{color:var(--muted); font-weight:600; text-align:left; background:#12161f}
.table tbody tr:hover{background:#121722}
.table .selected{background:#162038}

.pre{white-space:pre-wrap; word-break:break-word}
.muted{color:var(--muted)}

/* ============== Stats badges ============== */
.stats-row{display:flex; gap:16px; margin-top:10px}
.stat{flex:0 0 auto; background:#111520; border:1px solid var(--line); border-radius:12px; padding:10px 12px; min-width:90px; text-align:center}
.stat-val{font-size:18px; font-weight:700}
.stat-lbl{font-size:12px; color:var(--muted)}

/* ============== Toasts ============== */
.toast-stack{position:fixed; bottom:16px; right:16px; display:flex; flex-direction:column; gap:8px; z-index:1000}
.toast{
  background:#0f131b; border:1px solid var(--line); color:var(--ink);
  padding:10px 12px; border-radius:10px; box-shadow:0 10px 30px #00000066;
  animation: toast-in .2s ease-out;
}
@keyframes toast-in{from{transform:translateY(8px); opacity:0} to{transform:translateY(0); opacity:1}}
