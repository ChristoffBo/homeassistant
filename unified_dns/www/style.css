:root{
  --bg:#0f141b;
  --surface:#171e27;
  --text:#e9eef4;
  --muted:#aab3bf;
  --green:#2fc36b20;
  --green-border:#2fc36b;
  --red:#ff6b6b20;
  --red-border:#ff6b6b;
  --accent:#4ea1ff;
  --card-radius:16px;
  --gap:12px;
  --shadow:0 6px 16px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
}

.app-header{padding:16px; background:linear-gradient(180deg, #111826, #0f141b); position:sticky; top:0; z-index:5}
.title h1{margin:0 0 4px 0}
.title p{margin:0; color:var(--muted); font-size:.9rem}
.tabs{display:flex; flex-wrap:wrap; gap:10px; margin-top:10px}
.tab-link{color:var(--muted); cursor:pointer; padding:6px 10px; border-radius:10px}
.tab-link.active{color:var(--text); background:#1e2733}

main{padding:16px; display:grid; gap:16px}
.tab{display:none}
.tab.active{display:block}

.card{
  background:var(--surface); border-radius:var(--card-radius);
  padding:16px; box-shadow:var(--shadow);
}

.card-header{display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap}
.controls{display:flex; gap:12px; align-items:center}
.inline{display:flex; gap:8px; align-items:center; color:var(--muted)}

.kpis{display:grid; grid-template-columns:repeat(5,minmax(120px,1fr)); gap:12px; margin-top:14px}
.kpi{
  background:#121a24; border-radius:18px; padding:14px; text-align:center; box-shadow:inset 0 0 0 1px #223042;
}
.kpi .kpi-title{color:var(--muted); font-size:.9rem; margin-bottom:6px}
.kpi .kpi-value{font-size:1.6rem; font-weight:700}
.kpi-green{background:var(--green); box-shadow:inset 0 0 0 2px var(--green-border)}
.kpi-red{background:var(--red); box-shadow:inset 0 0 0 2px var(--red-border)}

.table-wrap{margin-top:18px}
.table{width:100%; border-collapse:collapse}
.table th,.table td{padding:10px 12px; text-align:left; border-bottom:1px solid #223042; color:#d7dee7}
.table th{color:#99a6b5; font-weight:600}

.form-grid{
  display:grid; gap:12px;
  grid-template-columns:repeat(4, minmax(160px, 1fr));
}
.form-grid label{display:flex; flex-direction:column; gap:6px; font-size:.95rem; color:#c8d1dc}
.form-grid input,.form-grid select,.form-grid textarea{
  background:#0f1520; color:var(--text); border:1px solid #2a3b52;
  border-radius:10px; padding:10px; outline:none;
}
.form-grid textarea{grid-column:1/-1}

.actions{display:flex; gap:10px; align-items:center; justify-content:flex-start}
.btn{
  background:var(--accent); color:#0b1117; border:none; border-radius:12px;
  padding:10px 14px; font-weight:700; cursor:pointer;
}
.btn-secondary{background:#2a3b52; color:#d0d7e1}
.btn-danger{background:#a83434; color:#fff}
.btn-xs{padding:6px 10px; border-radius:10px; font-size:.85rem}

.switch{display:flex; align-items:center; gap:8px}
.switch input{transform:scale(1.1)}

.pre{
  background:#0d131b; border:1px solid #223042; padding:12px; border-radius:12px; overflow:auto;
}

/* Toast */
.toast{
  position: fixed; left: 50%; bottom: 18px; transform: translateX(-50%);
  background: #1e2733; color: #e9eef4; padding: 10px 14px; border-radius: 10px;
  border: 1px solid #2a3b52; box-shadow: var(--shadow); opacity: 0; pointer-events:none;
  transition: opacity .2s ease;
}
.toast.show{ opacity: 1; }
.toast.ok{ border-color: var(--green-border); }
.toast.err{ border-color: #a83434; }

/* Mobile tweaks */
@media (max-width: 820px){
  .kpis{grid-template-columns:repeat(2,1fr)}
  .form-grid{grid-template-columns:1fr}
  .controls{justify-content:flex-start}
}